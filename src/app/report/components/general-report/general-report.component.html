<div class="container">
  <h1>Relatório Geral</h1>

  <ng-container *ngFor="let report of reports; let i = index; let last = last">

    <div class="report-year-section">
      <div class="report-header">
        <h2>Visão Geral Anual - {{ report.year }}</h2>
        <div class="annual-chart-container">
          <canvas baseChart
            [data]="barChartData[i]"
            [options]="barChartOptions"
            [type]="'bar'"
            [legend]="barChartLegend">
          </canvas>
        </div>
      </div>

      <div class="report-content">
        <div class="chart-container">
          <h2>Detalhes Mensais - {{ report.year }}</h2>
          <canvas baseChart
            [data]="lineChartData[i]"
            [options]="lineChartOptions"
            [type]="'line'"
            [legend]="lineChartLegend">
          </canvas>
        </div>
      </div>
    </div>
    <hr *ngIf="!last" class="divider">
  </ng-container>

  <div *ngIf="isLoading">
    <p>Carregando relatório...</p>
  </div>

  <div *ngIf="!isLoading && reports.length === 0">
    <p>Não há dados para exibir no momento.</p>
  </div>
</div>