<h1 mat-dialog-title>Detalhes do Glaze</h1>

<div mat-dialog-content *ngIf="glaze" class="details-container">
  <div class="info-section">
    <h2>Informações Gerais</h2>
    <div class="costs-grid">
      <div class="cost-item">
        <span class="cost-label">ID:</span>
        <span class="cost-value">{{ glaze.id }}</span>
      </div>
      <div class="cost-item">
        <span class="cost-label">Cor:</span>
        <span class="cost-value">{{ glaze.color }}</span>
      </div>
      <div class="cost-item">
        <span class="cost-label">Criado Em:</span>
        <span class="cost-value">{{ glaze.createdAt | date:'short' }}</span>
      </div>
      <div class="cost-item">
        <span class="cost-label">Atualizado Em:</span>
        <span class="cost-value">{{ glaze.updatedAt | date:'short' }}</span>
      </div>
    </div>
  </div>

  <div class="info-section">
    <h2>Quantidades</h2>
    <div class="costs-grid">
      <div class="cost-item">
        <span class="cost-label">Quantidade Atual:</span>
        <span class="cost-value">{{ glaze.currentQuantity | decimalFormat }} kg</span>
      </div>
      <div class="cost-item">
        <span class="cost-label">Valor da Quantidade Atual:</span>
        <span class="cost-value">{{ glaze.currentQuantityPrice | currency:'BRL' }}</span>
      </div>
    </div>
  </div>

  <div class="info-section">
    <h2>Custos</h2>
    <div class="costs-grid">
      <div class="cost-item final-cost">
        <span class="cost-label">Custo Unitário:</span>
        <span class="cost-value">{{ glaze.unitCost | currency:'BRL' }}</span>
      </div>
    </div>
  </div>

  <div class="table-section">
    <h2>Uso de Recursos</h2>
    <table mat-table [dataSource]="glaze.resourceUsages" class="mat-elevation-z8">
      <ng-container matColumnDef="resourceName">
        <th mat-header-cell *matHeaderCellDef> Nome </th>
        <td mat-cell *matCellDef="let element"> {{element.resourceName}} </td>
      </ng-container>
      <ng-container matColumnDef="quantity">
        <th mat-header-cell *matHeaderCellDef> Quantidade </th>
        <td mat-cell *matCellDef="let element"> {{element.quantity | decimalFormat}} kg </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="resourceUsagesColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: resourceUsagesColumns;"></tr>
    </table>
  </div>

  <div class="table-section">
    <h2>Uso de Máquinas</h2>
    <table mat-table [dataSource]="glaze.machineUsages" class="mat-elevation-z8">
      <ng-container matColumnDef="machineName">
        <th mat-header-cell *matHeaderCellDef> Nome </th>
        <td mat-cell *matCellDef="let element"> {{element.machineName}} </td>
      </ng-container>
      <ng-container matColumnDef="usageTime">
        <th mat-header-cell *matHeaderCellDef> Tempo de Uso </th>
        <td mat-cell *matCellDef="let element"> {{element.usageTime | decimalFormat}} h </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="machineUsagesColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: machineUsagesColumns;"></tr>
    </table>
  </div>
</div>

<div mat-dialog-actions>
  <button mat-button (click)="onClose()">Fechar</button>
</div>